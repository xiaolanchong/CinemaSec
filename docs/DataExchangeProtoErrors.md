
# Реализация протокола обмена

##	Сообщения об ошибках

Номер	Название	Причина
10	Неправильный формат запроса	
							1)	Ошибка в синтаксисе XML
							2)	Неправильные имена тэгов или атрибутов
							3)	Неправильный формат атрибутов (например, невозможно преобразование в число)
							4)	Недопустимые значения атрибутов (например, отрицательный идентификатор сеанса)
							5)	Лишние тэги, не предусмотренные протоколом
11	Несоответствие версии	1)	Неправильное значение атрибута version
							2)	Неизвестная версия протокола
12	Превышено время ожидания	В начале обработки запроса текущее время больше допустимого времени отправки полученного запроса
13	Неправильный тип запроса	Атрибут type имеет недопустимое или неизвестное значение
15	Отсутствует сеанс	Была передана информация только об идентификаторе сеанса, но такого значения в БД не найдено
17	Неправильное название кинотеатра	1)	Нет такого кинотеатра
										2)	Нет такого зала
18	Неправильная дата или время запроса	1)	Неправильный формат даты или времени
										2)	Сеанс имеет неправильное время (начало позже конца)
										3)	Время сеанса выходит за границы отчета (24ч)
										4)	Временные промежутки сеансов пересекаются
65535	Ошибка при обращении к БД	
65535	Необходима полная информация о сеансе	Кроме идентификатора для сеанса задана какая-либо информация о сеансе (например, время начала)
		

##	Замечания

1.	Параметр encoding=”UTF-8” пропускается XML-процессором (по умолчанию)
2.	Информация по сеансу либо не присутствует (только Id), либо передается полностью (название, начало, окончание).
3.	Идентификатор фильма не должен повторяться для сеансов, время показа которых в течение 24 часов.
4.	ICCSRequest не является ни dispatch, ни dual-интерфейсом.
5.	Максимальный размер очереди сообщений – 100. Если очередь заполнена, то возвращается ошибка при вызове Request (для предотвращения DoS-атак).
6.	Компонент находиться на любом компьютере, где установлено серверное ПО СКЗ. При этом сервер не обязан быть запущен. В общем случае может быть на клиентском ПК.
7.	Обработка для кинотеатра, в котором находиться компьютер (он должен быть сервером)
8.	Группировка статистики по залам, времени начала сеанса
